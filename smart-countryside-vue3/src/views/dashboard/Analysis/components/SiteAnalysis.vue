<template>
  <Card :tab-list="tabListTitle" v-bind="$attrs" :active-tab-key="activeKey" @tabChange="onTabChange">
    <p v-if="activeKey === 'tab1'">
      <VisitAnalysis />
    </p>
    <p v-if="activeKey === 'tab2'">
      <VisitAnalysisBar :EchartsObj="EchartsObj" />
    </p>
  </Card>
</template>
<script lang="ts" setup>
  import { ref } from 'vue';
  import { Card } from 'ant-design-vue';
  import VisitAnalysis from './VisitAnalysis.vue';
  import VisitAnalysisBar from './VisitAnalysisBar.vue';

  const activeKey = ref('tab2');

  const props = defineProps({
    EchartsObj: {
      type: Object,
      default: undefined,
    }
  });

  const tabListTitle = [
    // {
    //   key: 'tab1',
    //   tab: '流量趋势',
    // },
    {
      key: 'tab2',
      tab: '矛盾纠纷统计',
    },
  ];

  function onTabChange(key) {
    activeKey.value = key;
  }
</script>
